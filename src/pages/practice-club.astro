---
import '../styles/practice-club.css';
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
---

<BaseLayout title="Practice Club | Mandolin Balaji" description="Audio pitch shifter for practice sessions">
  <div class="stack gap-20">
    <Hero title="Practice Club" align="center"/>
    <main class="wrapper about">
      <section>
        <div class="content">
          <div class="audio-player">
            <div class="cover-image">
              <img id="album-cover" src="/favicon.svg" alt="Album cover" />
            </div>
            <div class="info">
              <div class="title" id="song-title">Title</div>
              <div class="artist" id="song-artist">Artist</div>
              <div class="album" id="song-album">Album (Year)</div>
            </div>
            <div id="audio-setup-section">
              <button id="start-audio" class="start-button">Start Practicing</button>
              <p class="setup-message">Click to enable practice session</p>
            </div>
            <label for="file-input" class="load-button" id="file-input-label" style="display: none;">
              <input type="file" id="file-input" accept="audio/*" />
              Load Audio
            </label>
          </div>

          <div class="progress-container">
            <div class="progress-bar">
              <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="time">
              <span id="current-time">0:00</span>
              <span id="duration">0:00</span>
            </div>
          </div>

          <div class="controls">
            <button id="play-pause" disabled>Play</button>
            <button id="reset" disabled>Reset</button>
          </div>

          <div class="sliders">
            <div class="slider-group">
              <label>Volume: <span id="volume-value">100%</span></label>
              <input type="range" id="volume" min="0" max="3" step="0.01" value="1">
            </div>
            <div class="slider-group">
              <label>Key: <span id="semitone-value">0 semitones</span></label>
              <input type="range" id="semitone" min="-12" max="12" step="1" value="0">
            </div>
            <div class="slider-group">
              <label>Pitch: <span id="pitch-value">0%</span></label>
              <input type="range" id="pitch" min="0.5" max="2.0" step="0.01" value="1">
            </div>
            <div class="slider-group">
              <label>Tempo: <span id="tempo-value">0%</span></label>
              <input type="range" id="tempo" min="0.3" max="2.0" step="0.01" value="1">
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</BaseLayout>

<script type="module" client:load src="/scripts/practice-club.js"></script>